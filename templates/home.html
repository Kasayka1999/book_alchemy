<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
  <body>
  <div class="navbar">
    <div class="sort-container">
      <label for="sort">Sort by:</label>
      <select id="sort" onchange="location = this.value;">
        <option value="/?sort=title" {% if sort_by == 'title' %}selected="selected"{% endif %}>Title</option>
        <option value="/?sort=author" {% if sort_by == 'author' %}selected="selected"{% endif %}>Author</option>
      </select>
    </div>
    <div class="search-container">
      <form action="/" method="get">
        <input type="text" name="search" placeholder="Search books..." value="{{ request.args.get('search', '') }}">
        <button type="submit">Search</button>
      </form>
    </div>
    </div>
  {% if deleted_successfully %}
  <p style="color: green;">{{ deleted_successfully }}</p>
  {% endif %}
   <div class="book-grid">
      {% for book in books %}
        <div class="book-card">
          <img src="https://covers.openlibrary.org/b/isbn/{{ book.isbn }}-L.jpg" alt="Book Cover">
          <h3>{{ book.title }}</h3>
          <p>{{ book.author.name }}</p>
          <div class="delete-btn-container"><form action="/book/{{ book.id }}/delete" method="post"><button class="delete-btn" type="submit">Delete</button></form></div>
        </div>
      {% endfor %}
    </div>

  </body>
</html>